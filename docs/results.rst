Step 4: View Output and Results
-------------------------------

The Gene Expression Matrix (GEM)
````````````````````````````````
After GEMmaker completes, it will have created a Gene Expression Matrix (GEM) that can be found in the ``results/GEMs/`` directory by default. This directory contains the final gene-expression matrices in raw, TPM and FPKM form, depending on the tool used.

Sample files
````````````
As GEMmaker processes each RNA-seq sample, it creates a directory with all intermediate files and report files that you indicated should be kept. These can include the downloaded SRA or FASTQ files (if remote files are used), trimmed FASTQ files, SAM or BAM files (if Hisat2 is used), `FASTQC <https://www.bioinformatics.babraham.ac.uk/projects/fastqc/>`_ reports, and raw, FPKM or TPM output files (depending on the tool selected).  These files are found withing the ``results/Samples`` folder of GEMmaker with each sample having its own directory.

The MultiQC Report
``````````````````
The `MultiQC <http://multiqc.info>`__ tool is used as the last step in the GEMmaker workflow. It will examine the output files from each tool and  generate a report that allows you to examine the quality of the results.  You can find this report in the ``results/reports`` folder of GEMmaker. Please refer to the MultiQC website for how to use this report.  An example screenshot of a MultiQC report generated by GEMmaker is provided below.

.. figure:: images/MultiQC_Report.png
  :alt: MultiQC Report

The Failed Runs Report
``````````````````````
When SRA runs are requested for download by GEMmaker, sometimes those runs fail.  For example, some causes may included that the NCBI SRA servers providing the files could have connectivity issues, samples can be missing metadata, or downloaded samples could be corrupted.  GEMmaker will not terminate running in the case of SRA failures, and instead will continue on with samples it can retrieve. Once completed it will create an HTML report listing any failed runs and their cause.  You can find this report in the ``results/reports`` folder of GEMmaker. The report is named ``failed_SRA_run_report.html``.  An example screen shot shows two examples where runs failed.

.. figure:: images/failed_runs_report.png
  :alt: Failed Runs Report

There may also be files with naming structure such as ``failed_runs.metadata.txt``. These are used by GEMmaker to generate a final report, and should be ignored. 

Nextflow Reports
````````````````
GEMmaker will automatically request that Nextflow generate three reports: a summary report, a timeline report and a trace report.

Summary Report
''''''''''''''
The summary report is found in the ``results/reports`` folder of GEMmaker and is named ``report.html``.  You can open this file with a web browser to view it. It contains summary information such as graphs showing the amount of CPU and Memory (RAM) usage, Input/Output (I/O)
, job duration and a description of each task. The following screenshot shows the CPU usage section of the report from a run of the GEMmaker example data:

.. figure:: images/nextflow_report.png
  :alt: Summary Report

Timeline Report
'''''''''''''''
The timeline report shows the order and time required to execute each of the jobs launched by GEMmaker.  It is found in the ``results/reports`` folder of GEMmaker and is named ``timeline.html``. You can open this file with a web browser to view it. The following screenshot shows a section of the report from a run of the GEMmaker example data:

.. figure:: images/nextflow_timeline.png
  :alt: Timeline Report

Trace Report
''''''''''''
The trace report is named ``trace.txt`` and is also found in the ``results/reports`` folder of GEMmaker. It contains the raw data used to create the Summary and Timeline reports.
