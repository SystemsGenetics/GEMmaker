/*
==================
SRA2GEV Paramaters
==================

By: Stephen Ficklin, John Hadish, Tyler Biggs
*/

  // Great job, you have found the file that you need to change parameters in
  // to make it work

params {

    //
    // The path (full or relative) to the list of SRAs.
    // This must be a file with one SRR number per line.

  sra_list_path = "SRA_IDs.txt"

    //
    // The glob that retrieves locally stored "fastq" files
    //
    // An example of a proper glob to retreive all files with the extension ".fastq" that
    // are contained within sub directories of the imaginary directory "Imagine_Dir_ would be:
    //
    //  "${PWD}/Imagine_Dir/*/*_{1,2}.fastq"
    //
    // If no local files are to be used, set parameter as "none"

  local_samples_path = "/scidas/arabidopsis/all_sra/Kamiak*/[SDE]RR*/*_{1,2}.fastq"

    // This is a parameter of how to store resulting files. There are 2
    // parameters so that a file system can be used when there are many fastq
    // files (typically 500 plus files). If you are running this on less than this,
    // we suggest that you use the following parameters:
    //
    //    outputdir_sra = { "${PWD}/${sra}" }
    //    outputdir_srx = { "${PWD}/${srx}" }
    //
    // If you have a large amount of files to be processed, you can use the
    // following option to organize SRR numbered files into a cascading
    // file system. For example, "SRR0123456" would have its files in the
    // directory "/SRR/12/34/56/SRR123456/" This allows a large amount of files
    // to be stored in a logical fashion. You can modify this glob to fix your
    // needs.
    //
       outputdir_sra = { "${PWD}/${sra[0..2]}/${sra[3..4]}/${sra[5..6]}/${sra.drop(7)}/${sra}" }
       outputdir_srx = { "${PWD}/${srx[0..2]}/${srx[3..4]}/${srx[5..6]}/${srx.drop(7)}/${srx}" }
    //
    // Note where the "//" are for this parameter and remember that they
    // mean that things are commented out ("#")
    //
  // outputdir_sra = { "${PWD}/${sra}" }
  // outputdir_srx = { "${PWD}/${srx}" }


    // Parameters for the reference genome.
  ref {

      //
      // The full file system path the directory containing the
      // genome reference files.

    path = "/scidas/arabidopsis/reference/"

      //
      // The prefix (used by hisat2-build) for the genome reference files.

    prefix = "TAIR10_Araport11"

  }




  // Parameters for the trimmomatic software.
  trimmomatic {

    //
    // The location of the trimmomatic clipping files.

    clip_path = "/data/ficklin/software/Trimmomatic-0.36/adapters"

    //
    // The minimum read length to be used taken as a percentage
    // of the mean of each sample

    MINLEN = ".7"
  }
}


profiles {

  standard {
    process.executor = 'local'
  }


  kamiak {
    process {
      executor = 'slurm'
      queue = 'ficklin'
      cpus = 1
      time = '720h'
      maxRetries = 2
      errorStrategy = 'retry'
    }
    executor {
      queueSize = 100
    }
  }
}
