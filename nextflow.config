/**
 * =============================================================================
 *                       GEMmaker Configuration File
 * =============================================================================
 * This file provides the configuration settings for the GEMmaker workflow.
 * It is designed to provide workflow parameter settings in this file. These
 * are the settings needed for proper execution of the workflow processes. More
 * advanced configuration settings are avilable via included configuration
 * files that are found in the ./config directory.
 *
 * Most users will only need to edit the settings in this file and
 * the appropriate profile settings file if executing other than on a
 * standalone machine.  GEMmaker provides default configuration files for
 * Standalone Docker, Standalone Singularity, and examples for clusters using
 * the SLURM and PBS schdulers. A Kubernetes cluster example is also prvided.
 *
 * See the online documentation at https://gemmaker.readthedocs.io/en/latest/
 * for more instructions for editing this config file.
 */

// These lines include the settings from the version and manifest configuration
// files. To ensure reproducibilty of the workflow, these configuration files
// should not be edited.
includeConfig "VERSION"
includeConfig "config/manifest.config"

params {

    // This section is for specifying which samples GEMmaker will process.
    samples {
        // The following is for GEMmaker to automatically download from NCBI SRA.
        ncbi_sra_download {
            remote_sample_list = "./demo/SRA_IDs.txt"
            publish_sra = false
            publish_downloaded_fastq = false
        }

        // Set the GLOB pattern to find samples stored in local directory.
        // https://en.wikipedia.org/wiki/Glob_(programming)
        local_sample_files = "./demo/*_{1,2}.fastq"

        // Add the IDs of any samples that should be skipped to a file.
        skip_list_path = "./demo/samples2skip.txt"
    }

    quantification {

        // One of 'kallisto', 'salmon' or 'hisat2'
        method = 'kallisto'

        // Settings for each method. Only adjust settings for the method chosen above.
        kallisto {
            // Directory containing the reference genome index files.
            index_file = "./demo/references/CORG.transcripts.Kallisto.indexed"

            // Files to publish.
            publish_gene_abundance = false
            publish_raw = true
            publish_tpm = true
            publish_gem = true
        }
        salmon {
            // Directory containing the reference genome index files.
            index_dir = "./demo/references/CORG.transcripts.Salmon.indexed"

            // Files to publish.
            publish_gene_abundance = false
            publish_raw = true
            publish_tpm = true
            publish_gem = true
        }
        hisat2 {
            // The unique name for the genome reference assembly. It must not contain
            // spaces or special characters, only alphanumeric characters and underscores.
            base_name = "CORG"
            // Directory containing the reference genome index files .
            index_dir = "./demo/references/CORG.genome.Hisat2.indexed"
            // The path to the reference genome GTF file.
            gtf_file = "./demo/references/CORG.transcripts.gtf"

            // Files to publish
            publish_stringtie_gtf_and_ga = false
            publish_trimmed_fastq = false
            publish_bam = false
            publish_sam = false
            publish_raw = true
            publish_fpkm = true
            publish_tpm = true
            publish_gem = true

            // Trimmomatic parameter tuning
            trimmomatic {
                clip_path = "${baseDir}/files/fasta_adapter.txt"
                MINLEN = "0.7"
                SLIDINGWINDOW = "4:15"
                LEADING = "3"
                TRAILING = "6"
            }
        }
    }
    execution {
        // Set this to the number of jobs that GEMmaker will use.
        // On a standalone machine this should not exceed your CPUs. For
        // a cluster it should be within the limits of the number of jobs
        // you can submit.
        queue_size = 4
    }
}

// GENERAL SETTINGS
// ----------------
// The following includes default configurations that support reporting,
// output, and default settings for execution of processes. If you need to
// override any of the settings in these files pleace do not edit the files
// themselves, but instead reenter the settings below to override them.
includeConfig "config/output.config"
includeConfig "config/reports.config"
includeConfig "config/process.config"

// PROFILE SETTINGS
// ----------------
// You may be executing GEMmaker on one ore more platforms. The following
// provides default configruation settings for multiple types of platform
// profiles.  You will want to override these settings for the platforms on
// which you are working.  Do not edit the config files listed here but instead
// you can override the settings in the space below.
includeConfig "config/profiles/docker.config"
includeConfig "config/profiles/singularity.config"
includeConfig "config/profiles/standard.config"
includeConfig "config/profiles/travis.config"
includeConfig "config/profiles/k8s.config"
includeConfig "config/profiles/pbs.config"
includeConfig "config/profiles/slurm.config"

// YOUR CUSTOMIZATIONS HERE
// ------------------------
// Overide default settings in this space
